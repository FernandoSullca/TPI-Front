<div class="container main-container bg-white">
    <div class="row brand-box pt-2">
        <div class="col-sm-12 d-flex">
            <h2><span class="bold-text-Marca">Mercado</span><span class="bold-Marca">JR</span></h2>
            <img src="/assets/image/logo.svg" alt="" >
        </div>
    </div>
    <div class="container-perfil p-4">

        <!-- Botón Siguiente Pregunta aquí -->
        <div *ngIf="!isLastQuestion">
            <div class="container-perfil-Quest-descr-opt" *ngFor="let pregunta of preguntas">
                <div class="container-perfil-Questions ">
                    <p>{{ pregunta.pregunta }}</p>
                </div>

                <div class="container-perfil-Descripcion">  
                    <!-- <p class="alinea-descripcion-pregunta-radius">Elegir solo una opción</p> -->
                    <ng-container *ngIf="pregunta.tipoContenido =='texto'; else imgContenido">

                            <!-- <div *ngIf="isArray(pregunta.respuestas)" class="alinea-pregunta-radius"> -->
                                <div class="row">  
                                <div class="alineacion-radios alineacion-botones-opciones-radius"   *ngFor="let opcion of pregunta.opciones " >
                                      <!-- <label for="{{ respuesta.nombre}}">{{ respuesta.nombre }}</label> -->
                                      <input class="col-auto" type="radio" id="{{ opcion.texto }}" name="{{opcion.texto}}"
                                        value="{{opcion.valor}}" [(ngModel)]="opcionSeleccionada"
                                        (change)="actualizarOpcionesSeleccionadas(opcion.texto,opcion.valor)">
                                     <label class="col-auto enunciado-radio" for="{{ opcion.texto}}">{{ opcion.texto }}</label>
                                </div>
                            </div>
                        <!-- </div> -->
                    </ng-container>

                    <ng-template #imgContenido>
                        <img [src]="pregunta.descripcion" alt="Imagen" class="img-fluid">
                    </ng-template>
                </div>

            </div>
        </div>


        <div class="justify-content-md-end mt-5" style="text-align: center;">
            <button class="btn btn-primary btn btn-primary me-md-2 btn-Iniciar botonera-lg" *ngIf="!isLastQuestion"
                (click)="loadNextQuestion()">{{ buttonText }}</button>
            <!-- <p *ngIf="isLastQuestion">¡Has respondido todas las preguntas!</p> -->
        </div>

        <div *ngIf="isLastQuestion " style="text-align: center;">

            <h3> Perfil final asociado: {{ResultadoPerfilObjetivo}}</h3>
            <!-- <p>El inversor {{ResultadoPerfilObjetivo}}no busca con su cartera de inversión conseguir ingresos corrientes pero si requiere
                un modesto aumento en el valor de sus inversiones.
                El inversor tolera algunas volatilidad pero busca afrontar un menor riesgo que el inversor agresivo.
            </p> -->
            <button class="btn btn-primary btn btn-primary me-md-2 btn-Iniciar botonera-lg" (click)="loadSugerencias()"
                *ngIf="!issugerencia ">{{ buttonText }}</button>
            <p *ngIf="isLastQuestion">¡Has respondido todas las preguntas!</p>
        </div>

        <div *ngIf="isLastQuestion && issugerencia" style="text-align: center;">

            <h3> Portfolio sugerido acorde a tú perfil</h3>
            <img style="margin-left: 125px;" src="\assets\image\GraficoTorta.png" alt="">
            <button class="btn btn-primary btn btn-primary me-md-2" (click)="loadHome()">Finalizar</button>
            <p *ngIf="isLastQuestion">¡Has respondido todas las preguntas!</p>
        </div>



    </div>

</div>
